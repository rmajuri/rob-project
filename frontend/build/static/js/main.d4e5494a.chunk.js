(this["webpackJsonprob-project"]=this["webpackJsonprob-project"]||[]).push([[0],{109:function(e,t,n){},110:function(e,t,n){},116:function(e,t,n){},215:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),i=n(24),a=n.n(i),o=(n(109),n(17)),s=n(16),l=(n(110),n(236)),d=n(247),j=n(239),u=n(242),h=n(240),m=n(243),b=n(241),O=n(238),p=n(2),f=Object(l.a)({root:{width:"80%",marginBottom:"1rem"},imageCard:{backgroundColor:"#D8D8D8"}}),x=function(e){var t=e.id,n=e.name,c=e.link,r=e.description,i=e.image,a=e.deleteClickHandler,o=e.editClickHandler,s=f(),l=i?Object(p.jsx)(O.a,{component:"img",alt:r,height:"140",image:i,title:n,className:s.imageCard}):null;return Object(p.jsxs)(d.a,{className:s.root,children:[Object(p.jsxs)(j.a,{children:[l,Object(p.jsxs)(h.a,{children:[Object(p.jsx)(b.a,{gutterBottom:!0,variant:"h5",component:"h2",children:n}),Object(p.jsx)(b.a,{variant:"body2",color:"textSecondary",component:"p",children:r})]})]}),Object(p.jsxs)(u.a,{children:[Object(p.jsx)("a",{href:c,target:"_blank",rel:"noreferrer",children:Object(p.jsx)(m.a,{size:"small",color:"primary",children:"Go to Article"})}),Object(p.jsx)(m.a,{size:"small",color:"primary",onClick:function(){return a(t)},children:"Delete"}),Object(p.jsx)(m.a,{size:"small",color:"primary",onClick:function(){return o(t)},children:"Edit"})]})]})},g=n(9),v=(n(116),n(40)),y=n(245),C=n(248),k=n(95),S=n(246),N=n(244),A=["field","form"],F=function(e){var t=e.field,n=e.form,c=n.touched,r=n.errors,i=Object(k.a)(e,A);return Object(p.jsxs)("div",{children:[Object(p.jsx)(S.a,Object(o.a)(Object(o.a)({error:!(!c[t.name]||!r[t.name])},t),i)),c[t.name]&&r[t.name]&&Object(p.jsx)(N.a,{children:r[t.name]})]})},T=n(29),w={name:"",link:"",description:""},P=Object(l.a)({root:{width:"35%",marginBottom:"1rem",padding:".5rem"},input:{width:"80%",marginBottom:"1rem"},buttons:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},header:{margin:"1rem 0 1rem 0"}}),B=function(e){var t=e.articles,n=e.setArticles,r=e.isPost,i=e.setIsPost,a=e.selectedArticle,s=e.setSelectedArticle,l=P();w=r?{name:"",link:"",description:""}:t.find((function(e){return e.id===a}));var j=r?"Add a New Article":"Edit ".concat(t.find((function(e){return e.id===a})).name);return Object(p.jsx)(c.Fragment,{children:Object(p.jsx)(T.c,{initialValues:w,enableReinitialize:!0,onSubmit:r?function(e,c){var r=Object(o.a)({},e);fetch("http://127.0.0.1:8000/api/articles/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){return n([].concat(Object(g.a)(t),[e]))})).catch((function(e){return console.error(e)})),c.setSubmitting(!1),c.resetForm()}:function(e,c){var r=Object(o.a)({},e),l="http://127.0.0.1:8000/api/articles/".concat(a,"/");fetch(l,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){var c=t.filter((function(e){return e.id!==a}));n([].concat(Object(g.a)(c),[e]))})).catch((function(e){return console.error(e)})),i(!0),s(null),c.setSubmitting(!1),c.resetForm()},validationSchema:v.a().shape({name:v.b().max(60).required("Required"),link:v.b().max(2e3).url().required("Required"),description:v.b().max(250).required("Required")}),children:function(e){e.values;var t=e.isSubmitting;e.handleReset;return Object(p.jsx)(c.Fragment,{children:Object(p.jsx)(d.a,{className:l.root,children:Object(p.jsxs)(T.b,{children:[Object(p.jsx)(b.a,{className:l.header,gutterBottom:!0,variant:"h5",component:"h2",children:r?j:Object(p.jsx)("i",{children:j})}),Object(p.jsxs)(y.a,{children:[Object(p.jsx)(C.a,{htmlFor:"name",children:"Name"}),Object(p.jsx)(T.a,{className:l.input,name:"name",type:"text",component:F})]}),Object(p.jsxs)(y.a,{children:[Object(p.jsx)(C.a,{htmlFor:"link",children:"Link"}),Object(p.jsx)(T.a,{className:l.input,name:"link",type:"url",component:F})]}),Object(p.jsxs)(y.a,{children:[Object(p.jsx)(C.a,{htmlFor:"description",children:"Description"}),Object(p.jsx)(T.a,{className:l.input,name:"description",type:"text",component:F})]}),Object(p.jsxs)("div",{className:l.buttons,children:[Object(p.jsx)("div",{children:Object(p.jsx)(m.a,{type:"reset",onClick:function(){r||(i(!0),s(null))},children:"Clear"})}),Object(p.jsx)("div",{children:Object(p.jsx)(m.a,{type:"submit",disabled:t,children:"Submit"})})]})]})})})}})})},E=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!0),a=Object(s.a)(i,2),l=a[0],d=a[1],j=Object(c.useState)(null),u=Object(s.a)(j,2),h=u[0],m=u[1],O=function(e){d(!1),m(e)},f=function(e){var t="http://127.0.0.1:8000/api/articles/".concat(e,"/");fetch(t,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.status})).then((function(){return r(n.filter((function(t){return t.id!==e})))})).catch((function(e){return console.error(e)}))};Object(c.useEffect)((function(){r([]),fetch("http://127.0.0.1:8000/api/articles/",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return r(e)})).catch((function(e){return console.error(e)}))}),[]);var g=n.map((function(e){return Object(p.jsx)(x,Object(o.a)(Object(o.a)({},e),{},{deleteClickHandler:f,setIsPost:d,selectedArticle:h,setSelectedArticle:m,editClickHandler:O}),e.id)}));return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(b.a,{variant:"h4",component:"header",children:"News Tracker"}),Object(p.jsx)(b.a,{gutterBottom:!0,variant:"subtitle1",component:"header",children:"Curate a collection of news articles from around the web."}),Object(p.jsxs)("div",{className:"grid",children:[Object(p.jsx)("div",{children:n?g:null}),Object(p.jsx)(B,{isPost:l,setIsPost:d,articles:n,setArticles:r,selectedArticle:h,setSelectedArticle:m})]})]})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,250)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};a.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(E,{})}),document.getElementById("root")),D()}},[[215,1,2]]]);
//# sourceMappingURL=main.d4e5494a.chunk.js.map