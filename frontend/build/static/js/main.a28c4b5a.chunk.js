(this["webpackJsonprob-project"]=this["webpackJsonprob-project"]||[]).push([[0],{109:function(e,t,n){},110:function(e,t,n){},214:function(e,t,n){},215:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),i=n(24),a=n.n(i),o=(n(109),n(17)),s=n(16),l=(n(110),n(236)),d=n(247),j=n(239),u=n(242),h=n(240),m=n(243),b=n(241),O=n(238),p=n(2),f=Object(l.a)({root:{width:"80%",marginBottom:"1rem"},imageCard:{backgroundColor:"#D8D8D8"}}),x=function(e){var t=e.id,n=e.name,c=e.link,r=e.description,i=e.image,a=e.deleteClickHandler,o=e.editClickHandler,s=f(),l=i?Object(p.jsx)(O.a,{component:"img",alt:r,height:"140",image:i,title:n,className:s.imageCard}):null;return Object(p.jsxs)(d.a,{className:s.root,children:[Object(p.jsxs)(j.a,{children:[l,Object(p.jsxs)(h.a,{children:[Object(p.jsx)(b.a,{gutterBottom:!0,variant:"h5",component:"h2",children:n}),Object(p.jsx)(b.a,{variant:"body2",color:"textSecondary",component:"p",children:r})]})]}),Object(p.jsxs)(u.a,{children:[Object(p.jsx)("a",{href:c,target:"_blank",rel:"noreferrer",children:Object(p.jsx)(m.a,{size:"small",color:"primary",children:"Go to Article"})}),Object(p.jsx)(m.a,{size:"small",color:"primary",onClick:function(){return a(t)},children:"Delete"}),Object(p.jsx)(m.a,{size:"small",color:"primary",onClick:function(){return o(t)},children:"Edit"})]})]})},g=n(9),v=n(40),y=n(245),C=n(248),S=n(95),k=n(246),T=n(244),N=["field","form"],A=function(e){var t=e.field,n=e.form,c=n.touched,r=n.errors,i=Object(S.a)(e,N);return Object(p.jsxs)("div",{children:[Object(p.jsx)(k.a,Object(o.a)(Object(o.a)({error:!(!c[t.name]||!r[t.name])},t),i)),c[t.name]&&r[t.name]&&Object(p.jsx)(T.a,{children:r[t.name]})]})},F=n(29),P=(n(214),{name:"",link:"",description:""}),w=Object(l.a)({root:{width:"35%",marginBottom:"1rem",padding:".5rem"},input:{width:"80%",marginBottom:"1rem"},buttons:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},header:{margin:"1rem 0 1rem 0"}}),E=function(e){var t=e.articles,n=e.setArticles,r=e.isPost,i=e.setIsPost,a=e.selectedArticle,s=e.setSelectedArticle,l=w();r?P={name:"",link:"",description:""}:(P=t.find((function(e){return e.id===a})),console.log(a),console.log("INITIAL STATE",P));var j=r?"Add a New Article":"Edit ".concat(t.find((function(e){return e.id===a})).name);return Object(p.jsx)(c.Fragment,{children:Object(p.jsx)(F.c,{initialValues:P,enableReinitialize:!0,onSubmit:r?function(e,c){var r=Object(o.a)({},e);console.log(r),fetch("http://127.0.0.1:8000/api/articles/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){n([].concat(Object(g.a)(t),[e])),console.log("POST")})).catch((function(e){return console.error(e)})),c.setSubmitting(!1),c.resetForm()}:function(e,c){var r=Object(o.a)({},e);console.log(r);var l="http://127.0.0.1:8000/api/articles/".concat(a,"/");fetch(l,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){var c=t.filter((function(e){return e.id!==a}));n([].concat(Object(g.a)(c),[e])),console.log("PUT")})).catch((function(e){return console.error(e)})),i(!0),s(null),c.setSubmitting(!1),c.resetForm()},validationSchema:v.a().shape({name:v.b().max(60).required("Required"),link:v.b().max(2e3).url().required("Required"),description:v.b().max(250).required("Required")}),children:function(e){e.values;var t=e.isSubmitting;e.handleReset;return Object(p.jsx)(c.Fragment,{children:Object(p.jsx)(d.a,{className:l.root,children:Object(p.jsxs)(F.b,{children:[Object(p.jsx)(b.a,{className:l.header,gutterBottom:!0,variant:"h5",component:"h2",children:r?j:Object(p.jsx)("i",{children:j})}),Object(p.jsxs)(y.a,{children:[Object(p.jsx)(C.a,{htmlFor:"name",children:"Name"}),Object(p.jsx)(F.a,{className:l.input,name:"name",type:"text",component:A})]}),Object(p.jsxs)(y.a,{children:[Object(p.jsx)(C.a,{htmlFor:"link",children:"Link"}),Object(p.jsx)(F.a,{className:l.input,name:"link",type:"url",component:A})]}),Object(p.jsxs)(y.a,{children:[Object(p.jsx)(C.a,{htmlFor:"description",children:"Description"}),Object(p.jsx)(F.a,{className:l.input,name:"description",type:"text",component:A})]}),Object(p.jsxs)("div",{className:l.buttons,children:[Object(p.jsx)("div",{children:Object(p.jsx)(m.a,{type:"reset",onClick:function(){r||(i(!0),s(null))},children:"Clear"})}),Object(p.jsx)("div",{children:Object(p.jsx)(m.a,{type:"submit",disabled:t,children:"Submit"})})]})]})})})}})})},I=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(!0),a=Object(s.a)(i,2),l=a[0],d=a[1],j=Object(c.useState)(null),u=Object(s.a)(j,2),h=u[0],m=u[1],O=function(e){d(!1),m(e),console.log("ARTICLES",n)},f=function(e){var t="http://127.0.0.1:8000/api/articles/".concat(e,"/");fetch(t,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.status})).then((function(t){console.log(t),r(n.filter((function(t){return t.id!==e})))})).catch((function(e){console.error(e)}))};Object(c.useEffect)((function(){r([]),fetch("http://127.0.0.1:8000/api/articles/",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){r(e)})).catch((function(e){console.error(e)}))}),[]);var g=n.map((function(e){return Object(p.jsx)(x,Object(o.a)(Object(o.a)({},e),{},{deleteClickHandler:f,setIsPost:d,selectedArticle:h,setSelectedArticle:m,editClickHandler:O}),e.id)}));return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(b.a,{variant:"h4",component:"header",children:"News Tracker"}),Object(p.jsx)(b.a,{gutterBottom:!0,variant:"subtitle1",component:"header",children:"Curate a collection of news articles from around the web."}),Object(p.jsxs)("div",{className:"grid",children:[Object(p.jsx)("div",{children:n?g:null}),Object(p.jsx)(E,{isPost:l,setIsPost:d,articles:n,setArticles:r,selectedArticle:h,setSelectedArticle:m})]})]})},B=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,250)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};a.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(I,{})}),document.getElementById("root")),B()}},[[215,1,2]]]);
//# sourceMappingURL=main.a28c4b5a.chunk.js.map